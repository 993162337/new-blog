webpackJsonp([3],{

/***/ 11:
/***/ function(module, exports, __webpack_require__) {

	"use strict";

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

	exports.getJSON = getJSON;
	exports.isEmpty = isEmpty;
	exports.getStorage = getStorage;
	exports.urlWithParams = urlWithParams;
	exports.deParams = deParams;
	exports.Msg = Msg;
	exports.Alert = Alert;
	exports.Query = Query;

	var _reactDom = __webpack_require__(7);

	var _modal = __webpack_require__(21);

	var _modal2 = _interopRequireDefault(_modal);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function getJSON(url, data) {
	  return new Promise(function (resolve, reject) {
	    $.getJSON(url, data, resolve);
	  });
	}

	function isEmpty(obj) {
	  if (typeof obj == "array") {
	    return obj.length == 0;
	  }

	  if ((typeof obj === "undefined" ? "undefined" : _typeof(obj)) == "object") {
	    if (obj == null) return true;

	    var keys = Object.keys(obj);
	    return keys.length == 0;
	  }

	  if (typeof obj == "string") {
	    return obj == "";
	  }

	  if (obj == null || obj == undefined) {
	    return true;
	  }
	}

	function getStorage(key) {
	  return {
	    get: function get() {
	      return JSON.parse(localStorage.getItem(key));
	    },
	    set: function set(value) {
	      localStorage.setItem(key, JSON.stringify(value));
	    },
	    clear: function clear() {
	      localStorage.removeItem(key);
	    }
	  };
	}

	function urlWithParams(url, obj) {
	  var keys = Object.keys(obj);
	  keys.forEach(function (key, index) {
	    url += "" + (index ? "&" : "?") + key + "=" + obj[key];
	  });

	  return url;
	}

	function deParams(url) {
	  var p = url.split("?")[1];
	  var s = p && p.split("#")[0];
	  var r = {};

	  if (!s) return r;

	  var _iteratorNormalCompletion = true;
	  var _didIteratorError = false;
	  var _iteratorError = undefined;

	  try {
	    for (var _iterator = s.split("&")[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
	      var item = _step.value;

	      var _item$split = item.split("="),
	          _item$split2 = _slicedToArray(_item$split, 2),
	          key = _item$split2[0],
	          value = _item$split2[1];

	      if (key.has("_")) continue;
	      r[key] = value;
	    }
	  } catch (err) {
	    _didIteratorError = true;
	    _iteratorError = err;
	  } finally {
	    try {
	      if (!_iteratorNormalCompletion && _iterator.return) {
	        _iterator.return();
	      }
	    } finally {
	      if (_didIteratorError) {
	        throw _iteratorError;
	      }
	    }
	  }

	  return r;
	}

	function Msg(msg) {
	  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "tip";

	  var types = ["tip", "warn", "error"];
	  if (!types.has(type)) console.warn("Utils Msg's type is One of ", types);

	  var previousZIndex = $(".global-top-msg").last().css("zIndex") || 3000;
	  var zIndex = parseInt(previousZIndex) + 1;
	  var content = "<div class=\"global-top-msg " + type + "\">" + msg + "</div>";
	  var $div = $(content).appendTo("body").css("zIndex", zIndex);

	  setTimeout(function () {
	    return $div.remove();
	  }, 2500);
	}

	function Alert(title, text, cb) {
	  var $div = $("<div />").appendTo("body");
	  (0, _reactDom.render)(React.createElement(_modal2.default, {
	    type: "alert",
	    removeOnCancel: true,
	    immediatelyShow: true,
	    title: title,
	    text: text,
	    okBtnCB: cb
	  }), $div.get(0));
	}

	function Query(title, content, cb) {
	  var $div = $("<div />").appendTo("body");
	  (0, _reactDom.render)(React.createElement(
	    _modal2.default,
	    {
	      type: "query",
	      removeOnCancel: true,
	      immediatelyShow: true,
	      title: title,
	      okBtnCB: cb
	    },
	    content
	  ), $div.get(0));
	}

/***/ },

/***/ 19:
/***/ function(module, exports, __webpack_require__) {

	"use strict";

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	__webpack_require__(25);

	var _react = __webpack_require__(2);

	var _classnames = __webpack_require__(5);

	var _classnames2 = _interopRequireDefault(_classnames);

	var _utils = __webpack_require__(11);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Author: woolson
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Date:   2016-09-19 11:09:00
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Email:  woolson.lee@gmail.com
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Last modified by:   woolson
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Last modified time: 2016-11-29 12:11:01
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */

	var Button = function (_Component) {
	  _inherits(Button, _Component);

	  function Button() {
	    var _ref;

	    var _temp, _this, _ret;

	    _classCallCheck(this, Button);

	    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
	      args[_key] = arguments[_key];
	    }

	    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Button.__proto__ || Object.getPrototypeOf(Button)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function (evt) {
	      _this.props.onClick && _this.props.onClick(evt);
	    }, _temp), _possibleConstructorReturn(_this, _ret);
	  }

	  _createClass(Button, [{
	    key: "render",
	    value: function render() {
	      var P = this.props;
	      return React.createElement(
	        "div",
	        {
	          className: (0, _classnames2.default)("_button", P.type, P.className, P.theme, { disabled: P.disabled }),
	          onClick: this.onClick
	        },
	        React.createElement(
	          "span",
	          null,
	          (0, _utils._t)(this.props.text)
	        )
	      );
	    }
	  }]);

	  return Button;
	}(_react.Component);

	Button.defaultProps = {
	  text: "确认",
	  theme: "green",
	  type: "primary"
	};
	exports.default = Button;

/***/ },

/***/ 21:
/***/ function(module, exports, __webpack_require__) {

	"use strict";

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	__webpack_require__(27);

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	var _reactDom = __webpack_require__(7);

	var _classnames = __webpack_require__(5);

	var _classnames2 = _interopRequireDefault(_classnames);

	var _button = __webpack_require__(19);

	var _button2 = _interopRequireDefault(_button);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Author: woolson
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Date:   2016-09-20 18:09:00
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Email:  woolson.lee@gmail.com
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Last modified by:   woolson
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Last modified time: 2016-11-28 17:11:22
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */

	var Modal = function (_Component) {
	  _inherits(Modal, _Component);

	  function Modal() {
	    _classCallCheck(this, Modal);

	    return _possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).apply(this, arguments));
	  }

	  _createClass(Modal, [{
	    key: "componentDidMount",
	    value: function componentDidMount() {
	      var previousZIndex = $(".global-overlay").last().css("zIndex");
	      if (!previousZIndex || isNaN(previousZIndex)) previousZIndex = 2000;

	      this.$root = $(this.refs.root);
	      this.$root.css("zIndex", parseInt(previousZIndex) + 1);
	      if (this.props.immediatelyShow) this.$root.visible();
	    }
	  }, {
	    key: "renderButtons",
	    value: function renderButtons() {
	      switch (this.props.type) {
	        case "custom":
	          return this.props.buttons;
	        case "alert":
	          return _react2.default.createElement(_button2.default, {
	            text: "\u786E\u8BA4",
	            type: "primary",
	            theme: "yellow",
	            onClick: this.ok.bind(this)
	          });
	        case "query":
	        default:
	          return [_react2.default.createElement(_button2.default, {
	            key: "1",
	            text: "\u786E\u8BA4",
	            type: "primary",
	            theme: "yellow",
	            onClick: this.ok.bind(this)
	          }), _react2.default.createElement(_button2.default, {
	            key: "2",
	            text: "\u53D6\u6D88",
	            type: "hollow",
	            theme: "yellow",
	            className: "u-ml30",
	            onClick: this.cancel.bind(this)
	          })];
	      }
	    }
	  }, {
	    key: "ok",
	    value: function ok() {
	      this.props.okBtnCB && this.props.okBtnCB(this);
	    }
	  }, {
	    key: "show",
	    value: function show() {
	      this.$root.visible();
	    }
	  }, {
	    key: "hide",
	    value: function hide() {
	      this.$root.invisible();
	    }
	  }, {
	    key: "remove",
	    value: function remove() {
	      var types = ["alert", "query"];
	      if (types.has(this.props.type)) {
	        var $root = this.$root.parent();
	        $root.remove();
	      } else this.$root.remove();
	    }
	  }, {
	    key: "cancel",
	    value: function cancel() {
	      if (this.props.removeOnCancel) this.remove();else this.hide();
	    }
	  }, {
	    key: "render",
	    value: function render() {
	      return _react2.default.createElement(
	        "div",
	        {
	          ref: "root",
	          className: "global-overlay"
	        },
	        _react2.default.createElement(
	          "div",
	          { className: (0, _classnames2.default)("_modal", this.props.className) },
	          _react2.default.createElement(
	            "div",
	            { className: "_modal__title" },
	            _react2.default.createElement(
	              "h1",
	              null,
	              this.props.title
	            ),
	            _react2.default.createElement("i", {
	              className: "fa fa-close",
	              onClick: this.cancel.bind(this)
	            })
	          ),
	          _react2.default.createElement(
	            "div",
	            { className: "_modal__content" },
	            this.props.text ? this.props.text : this.props.children
	          ),
	          _react2.default.createElement(
	            "div",
	            { className: "_modal__buttons" },
	            this.renderButtons()
	          )
	        )
	      );
	    }
	  }]);

	  return Modal;
	}(_react.Component);

	Modal.propTypes = {
	  title: _react.PropTypes.string.isRequired,
	  immediatelyShow: _react.PropTypes.bool,
	  removeOnCancel: _react.PropTypes.bool,
	  type: _react.PropTypes.string
	};
	Modal.defaultProps = {
	  title: "TITLE",
	  type: "query",
	  immediatelyShow: true
	};
	exports.default = Modal;

/***/ },

/***/ 25:
/***/ function(module, exports) {

	"@require \"global\"\n\nbutton-theme(border_color, bg_color, font_color)\n  border: 1px solid border_color\n  background: bg_color\n  color: font_color\n\n._button\n  display: flex\n  align-items: center\n  justify-content: center\n  height: 18px\n  width: 90px\n  cursor: pointer\n  border-radius: 5px\n  > span\n    display: inline-block\n    line-height: 16px\n    height: 12px\n    cursor: pointer\n  &.green.primary\n    button-theme($main-blue, $main-blue, white)\n  &.green.hollow\n    button-theme($main-blue, white, $main-blue)\n  &.yellow.primary\n    button-theme($main-yellow, $main-yellow, white)\n  &.yellow.hollow\n    button-theme($main-yellow, white, $main-yellow)\n  &.disabled\n    cursor: not-allowed\n    border: 1px dashed darken($border-gray, 30%)\n    background: $border-gray\n"

/***/ },

/***/ 27:
/***/ function(module, exports) {

	"@require \"global\"\n@require \"animation\"\n\n._modal\n  width: 500px\n  background: white\n  border: 2px solid $main-blue\n  animation: flipInX .5s\n\n._modal__title\n  padding: 10px\n  text-align: center\n  position: relative\n  color: $main-blue\n  > h1\n    color: $main-blue\n    font-size: 30px\n    margin: 0\n    padding: 0\n    padding-top: 20px\n  > i\n    position: absolute\n    font-size: 14px\n    right: 10px\n    top: 10px\n    cursor: pointer\n    &:active\n      color: darken($main-blue, 30%)\n\n._modal__content\n  padding: 10px 20px\n  text-align: center\n\n._modal__buttons\n  display: flex\n  padding: 20px 10px 40px 10px\n  justify-content: center\n  > ._button\n    border-color: $main-yellow\n    color: $main-yellow\n    &.primary-y\n      background: $main-yellow\n      color: white\n"

/***/ },

/***/ 54:
/***/ function(module, exports, __webpack_require__) {

	"use strict";

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	__webpack_require__(64);

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	var _classnames = __webpack_require__(5);

	var _classnames2 = _interopRequireDefault(_classnames);

	var _utils = __webpack_require__(11);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Author: woolson
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Date:   2016-12-16 23:16:17
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Email:   woolson.lee@gmail.com
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Last modified by:   woolson
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Last modified time: 2017-01-06 22:01:95
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */

	var Comment = function (_Component) {
	  _inherits(Comment, _Component);

	  function Comment() {
	    _classCallCheck(this, Comment);

	    return _possibleConstructorReturn(this, (Comment.__proto__ || Object.getPrototypeOf(Comment)).apply(this, arguments));
	  }

	  _createClass(Comment, [{
	    key: "submitComment",
	    value: function submitComment(replyID, commentID, evt) {
	      var $button = $(evt.target).closest("button");
	      var message = $button.prev("textarea").val().trim();
	      if ($button.is(".disabled")) {
	        (0, _utils.Msg)("请先使用Github登录！", "warn");
	        return;
	      } else if (!message) {
	        (0, _utils.Msg)("提交信息不可以是空的哦！", "warn");
	        return;
	      }

	      var data = {
	        message: message,
	        replyID: replyID,
	        commentID: commentID
	      };

	      $button.prev("textarea").val("");

	      this.props.onSubmit && this.props.onSubmit(data);
	      if (replyID) {
	        $(evt.target).closest("._comment-content__item_input").slideUp();
	      }
	    }
	  }, {
	    key: "renderInput",
	    value: function renderInput(replyID, commentID) {
	      var avatar = (0, _utils.isEmpty)(Global.user) ? __webpack_require__(53) : Global.user.avatar_url;
	      return _react2.default.createElement(
	        "div",
	        { className: "_comment-input" },
	        _react2.default.createElement("img", { src: avatar }),
	        _react2.default.createElement("textarea", {
	          className: "_comment-input__textarea"
	        }),
	        _react2.default.createElement(
	          "button",
	          {
	            className: (0, _classnames2.default)({ disabled: (0, _utils.isEmpty)(Global.user) }),
	            onClick: this.submitComment.bind(this, replyID, commentID)
	          },
	          _react2.default.createElement("i", { className: "fa fa-check" })
	        )
	      );
	    }
	  }, {
	    key: "agree",
	    value: function agree(commentID, type, evt) {
	      if ((0, _utils.isEmpty)(Global.user)) return (0, _utils.Msg)("未登录不可此操作哦！", "error");else if ($(evt.target).is(".active")) return (0, _utils.Msg)("\u4F60\u5DF2\u7ECF" + (type ? "赞" : "踩") + "\u8FC7\u54AF", "warn");

	      var param = {
	        comment_id: commentID,
	        agree: type
	      };

	      this.props.onAgree && this.props.onAgree(param);
	    }
	  }, {
	    key: "renderComments",
	    value: function renderComments(data) {
	      var _this2 = this;

	      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
	      var commentID = arguments[2];

	      var Data = (0, _utils.isEmpty)(data) ? this.props.data : data;
	      if ((0, _utils.isEmpty)(Data)) return _react2.default.createElement(
	        "center",
	        null,
	        "Be the first..."
	      );

	      return Data.map(function (item, index) {
	        var agree = item.agrees.filter(function (o) {
	          return o.agree == 1;
	        }).map(function (o) {
	          return o.uid;
	        });
	        var disagree = item.agrees.filter(function (o) {
	          return o.agree == 0;
	        }).map(function (o) {
	          return o.uid;
	        });

	        return _react2.default.createElement(
	          "div",
	          { className: "_comment-content__item" },
	          _react2.default.createElement("img", { src: item.avatar_url }),
	          _react2.default.createElement(
	            "div",
	            { className: "_comment-content__item_content" },
	            _react2.default.createElement(
	              "div",
	              { className: "info" },
	              _react2.default.createElement(
	                "a",
	                { className: "u-mr5 name", href: item.html_url, target: "_blank" },
	                item.author_name
	              ),
	              item.reply_name && ["@", _react2.default.createElement(
	                "a",
	                { className: "name u-ml5 u-mr10", href: item.reply_url, target: "_blank" },
	                item.reply_name
	              )],
	              _react2.default.createElement(
	                "span",
	                null,
	                moment(item.create_date).format("YYYY-MM-DD HH:mm:ss")
	              )
	            ),
	            _react2.default.createElement(
	              "div",
	              { className: "message" },
	              item.message
	            ),
	            _react2.default.createElement(
	              "div",
	              { className: "evaluation" },
	              _react2.default.createElement(
	                "span",
	                null,
	                _react2.default.createElement("i", {
	                  className: (0, _classnames2.default)("fa fa-angle-up u-mr5", {
	                    active: agree.has((Global.user || {}).id)
	                  }),
	                  onClick: _this2.agree.bind(_this2, item._id, 1)
	                }),
	                agree.length || 0
	              ),
	              _react2.default.createElement(
	                "span",
	                { className: "u-ml5 u-mr5" },
	                "|"
	              ),
	              _react2.default.createElement(
	                "span",
	                null,
	                _react2.default.createElement("i", {
	                  className: (0, _classnames2.default)("fa fa-angle-down u-mr5", {
	                    active: disagree.has((Global.user || {}).id)
	                  }),
	                  onClick: _this2.agree.bind(_this2, item._id, 0)
	                }),
	                disagree.length || 0
	              ),
	              _react2.default.createElement("i", {
	                title: "Reply",
	                className: "fa fa-reply u-ml10",
	                onClick: function onClick(evt) {
	                  var $input = $(evt.target).next("div");
	                  var isShow = $input.is(":visible");
	                  $input[isShow ? "slideUp" : "slideDown"]();
	                }
	              }),
	              _react2.default.createElement(
	                "div",
	                {
	                  className: "_comment-content__item_input",
	                  style: { display: "none" }
	                },
	                _this2.renderInput(item.uid, level ? commentID : item._id)
	              ),
	              !(0, _utils.isEmpty)(item.replies) && _react2.default.createElement(
	                "div",
	                { className: "_comment-content__item_reply" },
	                _this2.renderComments(item.replies, 1, item._id)
	              )
	            )
	          )
	        );
	      });
	    }
	  }, {
	    key: "logout",
	    value: function logout() {
	      var newCookie = "user=;expires=-1;domain=woolson.cn";
	      document.cookie = newCookie;
	      (0, _utils.Msg)("Logout success!");

	      setTimeout(function () {
	        window.location.reload();
	      }, 3000);
	    }
	  }, {
	    key: "render",
	    value: function render() {
	      return _react2.default.createElement(
	        "div",
	        { className: "_comment" },
	        _react2.default.createElement(
	          "div",
	          { className: "_comment-header" },
	          _react2.default.createElement(
	            "span",
	            null,
	            this.props.data.length || 0,
	            " Comments"
	          ),
	          (0, _utils.isEmpty)(Global.user) ? _react2.default.createElement(
	            "span",
	            {
	              className: "u-mlauto",
	              onClick: function onClick() {
	                return location.href = "https://github.com/login/oauth/authorize?client_id=72e5cae736efb0366ffc&redirect_uri=http://www.woolson.cn/oauth/github&state=23ede2ewedqwe";
	              }
	            },
	            _react2.default.createElement("i", { className: "fa fa-github u-mr5" }),
	            "Login with Github"
	          ) : _react2.default.createElement(
	            "span",
	            {
	              className: "u-mlauto",
	              title: "Click to Logout",
	              onClick: this.logout
	            },
	            "Login with:\xA0",
	            Global.user.name
	          )
	        ),
	        this.renderInput(0),
	        _react2.default.createElement(
	          "div",
	          { className: "_comment-content" },
	          this.renderComments()
	        )
	      );
	    }
	  }]);

	  return Comment;
	}(_react.Component);

	Comment.defaultProps = {
	  data: [{
	    name: "woolson",
	    message: "这个是一则测试信息……",
	    date: "2016-12-01"
	  }]
	};
	exports.default = Comment;

/***/ },

/***/ 59:
/***/ function(module, exports, __webpack_require__) {

	"use strict";

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	__webpack_require__(70);

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	var _reactRouter = __webpack_require__(35);

	var _comment = __webpack_require__(54);

	var _comment2 = _interopRequireDefault(_comment);

	var _utils = __webpack_require__(11);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Author: woolson
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Date:   2016-12-03 20:53:13
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Email:   woolson.lee@gmail.com
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Last Modified by:   woolson
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * @Last Modified time: 2016-12-21 23:52:59
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */

	var Article = function (_Component) {
	  _inherits(Article, _Component);

	  function Article() {
	    var _ref;

	    var _temp, _this, _ret;

	    _classCallCheck(this, Article);

	    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
	      args[_key] = arguments[_key];
	    }

	    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Article.__proto__ || Object.getPrototypeOf(Article)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
	      comments: []
	    }, _temp), _possibleConstructorReturn(_this, _ret);
	  }

	  _createClass(Article, [{
	    key: "componentWillMount",
	    value: function componentWillMount() {
	      $("head").append("<script src=\"http://www.woolson.cn/assets/js/highlight.pack.js\"></script>");
	      $("head").append("\n      <link class=\"article-file\" rel=\"stylesheet\" href=\"http://www.woolson.cn/assets/styles/md-themes/monokai.css\">\n      <link class=\"article-file\" rel=\"stylesheet\" href=\"https://dn-maxiang.qbox.me/res-min/themes/marxico.css\">\n      <link class=\"article-file\" rel=\"stylesheet\" href=\"http://www.woolson.cn/assets/styles/common-css.css\">");
	    }
	  }, {
	    key: "componentDidMount",
	    value: function componentDidMount() {
	      this.fetchArticle();
	      this.fetchComment();
	    }
	  }, {
	    key: "componentWillUnmount",
	    value: function componentWillUnmount() {
	      $(".article-file").remove();
	    }
	  }, {
	    key: "fetchArticle",
	    value: function fetchArticle() {
	      var _this2 = this;

	      var state = this.props.location.state;

	      if ((0, _utils.isEmpty)(state)) _reactRouter.browserHistory.push("/study");

	      $.get(("") + ("/study/fetchArticle/" + state.article)).then(function (d) {
	        _this2.refs.article.innerHTML = d;
	        setTimeout(function () {
	          $(_this2.refs.root).fadeIn(300);
	        }, 300);
	        setTimeout(function () {
	          $("head").append("<script src=\"http://www.woolson.cn/assets/js/common-js.js\"></script>");
	          $("head").append("<script>hljs.initHighlighting();</script>");
	        }, 300);
	      });
	    }
	  }, {
	    key: "fetchComment",
	    value: function fetchComment() {
	      var _this3 = this;

	      var state = this.props.location.state;

	      $.get(("") + "/fetchComments", { aid: state.aid }).then(function (d) {
	        return _this3.setState({ comments: d.comments.reverse() });
	      });
	    }
	  }, {
	    key: "onSubmit",
	    value: function onSubmit(data) {
	      var _this4 = this;

	      var state = this.props.location.state;
	      var param = {
	        aid: state.aid,
	        type: data.replyID ? 1 : 0,
	        reply_id: data.replyID,
	        reply_name: data.replyName,
	        uid: Global.user.id,
	        comment_id: data.commentID,
	        message: data.message
	      };

	      $.post(("") + "/insertComment", param).then(function (d) {
	        if (d.succ) {
	          (0, _utils.Msg)("提交成功！");
	          _this4.fetchComment();
	        } else (0, _utils.Msg)("提交失败, 请重试！", "error");
	      });
	    }
	  }, {
	    key: "onAgree",
	    value: function onAgree(data) {
	      var _this5 = this;

	      data.uid = Global.user.id;

	      $.post(("") + "/addCommentAgree", data).then(function (d) {
	        var msg = data.agree ? "点赞" : "踩";

	        if (d.succ) {
	          (0, _utils.Msg)(msg + "\u6210\u529F\uFF01");
	          _this5.fetchComment();
	        } else (0, _utils.Msg)(msg + "\u5931\u8D25, \u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF01", "error");
	      });
	    }
	  }, {
	    key: "render",
	    value: function render() {
	      return _react2.default.createElement(
	        "div",
	        {
	          ref: "root",
	          className: "study-article"
	        },
	        _react2.default.createElement("div", {
	          ref: "article",
	          className: "study-article__content"
	        }),
	        _react2.default.createElement(_comment2.default, {
	          data: this.state.comments,
	          onSubmit: this.onSubmit.bind(this),
	          onAgree: this.onAgree.bind(this)
	        })
	      );
	    }
	  }]);

	  return Article;
	}(_react.Component);

	exports.default = Article;

/***/ },

/***/ 64:
/***/ function(module, exports) {

	"@require \"global\"\n\n._comment\n  margin-top 50px\n  width 100%\n\n._comment-header\n  margin-bottom 10px\n  display flex\n  > span:last-child\n    cursor pointer\n    padding 0 5px\n    border-radius 3px\n    &:hover\n      background rgba($main-green, .9)\n      color white\n\n._comment-input\n  display flex\n  position relative\n  img\n    height 50px\n    width 50px\n    margin-right 10px\n    border-radius 5px\n  ._comment-input__textarea\n    flex 1\n    border-radius 3px\n    border 2px solid rgba($border-gray, .5)\n    min-height 90px\n    padding 10px\n    border-right none\n    transition all .3s\n    padding-right 70px\n    &:focus\n      box-shadow 0 0 3px rgba($main-green, .4)\n      border-color rgba($main-green, .8)\n      & + button\n        border-color rgba($main-green, .8)\n  button\n    position absolute\n    height 100%\n    right 0\n    padding 2px\n    border 2px solid rgba($border-gray, .7)\n    box-sizing border-box\n    border-radius 0 3px 3px 0\n    width 50px\n    text-align center\n    color $main-green\n    background $background-gray\n    transition: all .3s\n    &:not(.disabled):hover\n      background linear-gradient(45deg, $main-blue, $main-green)\n      color white\n      border-color $main-green\n    &.disabled\n      color: white\n    \n._comment-content\n  margin-top 40px\n\n._comment-content__item\n  display flex\n  padding 15px 0\n  // border-top 1px solid $border-gray\n  margin-bottom 15px\n  img\n    height 50px\n    width 50px\n    border-radius 5px\n    margin-right 10px\n\n._comment-content__item_content\n  flex: 1\n  .info\n    padding-bottom 5px\n    color lighten($font-color, 30%)\n    font-size 12px\n    a.name\n      font-size 14px\n      color $main-blue\n      &:hover\n        text-decoration underline\n  .evaluation\n    color lighten($font-color, 30%)\n    padding-top 5px\n    font-size 12px\n    i\n      cursor pointer\n      &:active\n        color: $main-green\n      &.fa-reply\n        display none\n  &:hover > .evaluation > i.fa-reply\n    display inline\n    cursor pointer\n\n._comment-content__item_reply\n  ._comment-content__item\n    margin-bottom 0\n\n._comment-content__item_input\n  padding-top: 10px"

/***/ },

/***/ 70:
/***/ function(module, exports) {

	".study-article\n  display none\n  word-wrap break-word\n  white-space wrap\n  width 90%\n  max-width 1000px\n  background white\n  padding 25px 50px\n  border-radius 5px\n  margin 60px auto"

/***/ }

});