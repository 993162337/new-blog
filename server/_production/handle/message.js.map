{"version":3,"sources":["../../app/handle/message.js"],"names":[],"mappings":";;;;;;AAQA;;;;AACA;;AACA;;;;AAEA,IAAM,UAAU,yBAAhB,C;;;;;;;;kBAEe;;;AAEX,mBAFW,2BAEK,GAFL,EAEU,GAFV,EAEe;AACtB,gBAAQ,IAAR,CAAa,EAAb,EAAiB,UAAC,GAAD,EAAM,IAAN,EAAe;AAC5B,kCAAU,GAAV,EAAe,MAAM,EAAC,MAAM,KAAP,EAAN,GAAsB,EAAC,UAAU,IAAX,EAArC;AACH,SAFD;AAGH,KANU;;;AAQX,iBARW,yBAQG,GARH,EAQQ,GARR,EAQa;AACpB,YAAM,UAAU,IAAI,OAAJ,CAAY,IAAI,IAAhB,CAAhB;;AAEA,gBAAQ,IAAR,CAAa,UAAC,GAAD,EAAM,IAAN,EAAe;AACxB,kCAAU,GAAV,EAAe,EAAC,MAAM,MAAM,KAAN,GAAc,IAArB,EAAf;AACH,SAFD;AAGH;AAdU,C","file":"message.js","sourcesContent":["/**\n* @Author: woolson\n* @Date:   2016-11-13 12:11:00\n* @Email:  woolson.lee@gmail.com\n* @Last modified by:   woolson\n* @Last modified time: 2016-11-13 17:11:55\n*/\n\nimport mongoose from \"mongoose\"\nimport { jsonWrite } from \"../global/utils\"\nimport { messageDB } from \"../db/mongodb\"\n\nconst Message = messageDB()\n\nexport default {\n    // fetch all message list\n    fetchAllMessage(req, res) {\n        Message.find({}, (err, docs) => {\n            jsonWrite(res, err ? {succ: false} : {messages: docs})\n        })\n    },\n    // insert message\n    insertMessage(req, res) {\n        const message = new Message(req.body)\n\n        message.save((err, docs) => {\n            jsonWrite(res, {succ: err ? false : true})\n        })\n    },\n}\n"]}