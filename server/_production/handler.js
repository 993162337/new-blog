"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _mysql=require("mysql"),_mysql2=_interopRequireDefault(_mysql),_mapping=require("./db/mapping"),_mapping2=_interopRequireDefault(_mapping),_config=require("./db/config"),_config2=_interopRequireDefault(_config),_utils=require("./global/utils"),pool=_mysql2["default"].createPool(_config2["default"]),getAll=function(e,t){pool.getConnection(function(n,i){i.query(_mapping2["default"][t],function(t,n){(0,_utils.jsonWrite)(e,n),i.release()})})};exports["default"]={fetchAllArticle:function(e,t){getAll(t,"getAllArticle")},fetchAllMessage:function(e,t){getAll(t,"getAllMessage")},insertMessage:function(e,t){var n=e.body,i=[n.name,n.content,n.response];pool.getConnection(function(e,n){n.query(_mapping2["default"].insertMessage,i,function(e,i){(0,_utils.jsonWrite)(t,i),n.release()})})}};